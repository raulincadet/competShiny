"0","#################################################
###########    Importing Data       #############
#################################################
covid_who<-read_csv(""covid_WHO.csv"")# read_csv(""https://covid19.who.int/WHO-COVID-19-global-table-data.csv"") # Source: World Health Organization - https://covid19.who.int/table
"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  Name = [31mcol_character()[39m,
  `WHO Region` = [31mcol_character()[39m,
  `Cases - cumulative total` = [32mcol_double()[39m,
  `Cases - cumulative total per 100000 population` = [32mcol_double()[39m,
  `Cases - newly reported in last 7 days` = [32mcol_double()[39m,
  `Cases - newly reported in last 7 days per 100000 population` = [32mcol_double()[39m,
  `Cases - newly reported in last 24 hours` = [32mcol_double()[39m,
  `Deaths - cumulative total` = [32mcol_double()[39m,
  `Deaths - cumulative total per 100000 population` = [32mcol_double()[39m,
  `Deaths - newly reported in last 7 days` = [32mcol_double()[39m,
  `Deaths - newly reported in last 7 days per 100000 population` = [32mcol_double()[39m,
  `Deaths - newly reported in last 24 hours` = [32mcol_double()[39m,
  `Transmission Classification` = [31mcol_character()[39m
)

"
"0","#################################################"
"0","###########    Importing Data       #############"
"0","#################################################"
"0","covid_who<-read_csv(""covid_WHO.csv"")# read_csv(""https://covid19.who.int/WHO-COVID-19-global-table-data.csv"") # Source: World Health Organization - https://covid19.who.int/table"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  Name = [31mcol_character()[39m,
  `WHO Region` = [31mcol_character()[39m,
  `Cases - cumulative total` = [32mcol_double()[39m,
  `Cases - cumulative total per 100000 population` = [32mcol_double()[39m,
  `Cases - newly reported in last 7 days` = [32mcol_double()[39m,
  `Cases - newly reported in last 7 days per 100000 population` = [32mcol_double()[39m,
  `Cases - newly reported in last 24 hours` = [32mcol_double()[39m,
  `Deaths - cumulative total` = [32mcol_double()[39m,
  `Deaths - cumulative total per 100000 population` = [32mcol_double()[39m,
  `Deaths - newly reported in last 7 days` = [32mcol_double()[39m,
  `Deaths - newly reported in last 7 days per 100000 population` = [32mcol_double()[39m,
  `Deaths - newly reported in last 24 hours` = [32mcol_double()[39m,
  `Transmission Classification` = [31mcol_character()[39m
)

"
"0","pib_capita<-read_csv(""pib_percapita.csv"") # Source: World Development Indicators - https://data.worldbank.org/indicator/NY.GDP.PCAP.CD"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  .default = col_double(),
  `Country Name` = [31mcol_character()[39m,
  `Country Code` = [31mcol_character()[39m,
  `Indicator Name` = [31mcol_character()[39m,
  `Indicator Code` = [31mcol_character()[39m,
  `2020` = [33mcol_logical()[39m
)
[36mi[39m Use [38;5;251m[48;5;235m[38;5;251m[48;5;235m`spec()`[48;5;235m[38;5;251m[49m[39m for the full column specifications.

"
"0","population<-read_csv(""population.csv"")    # Source: WDI - https://data.worldbank.org/indicator/SP.POP.TOTL"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  .default = col_double(),
  `Country Name` = [31mcol_character()[39m,
  `Country Code` = [31mcol_character()[39m,
  `Indicator Name` = [31mcol_character()[39m,
  `Indicator Code` = [31mcol_character()[39m,
  `2020` = [33mcol_logical()[39m
)
[36mi[39m Use [38;5;251m[48;5;235m[38;5;251m[48;5;235m`spec()`[48;5;235m[38;5;251m[49m[39m for the full column specifications.

"
"0","tourists<-read_csv(""tourismarrival.csv"") # Tourists arrival - Source: WDI - https://data.worldbank.org/indicator/ST.INT.ARVL"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  .default = col_logical(),
  `Country Name` = [31mcol_character()[39m,
  `Country Code` = [31mcol_character()[39m,
  `Indicator Name` = [31mcol_character()[39m,
  `Indicator Code` = [31mcol_character()[39m,
  `1995` = [32mcol_double()[39m,
  `1996` = [32mcol_double()[39m,
  `1997` = [32mcol_double()[39m,
  `1998` = [32mcol_double()[39m,
  `1999` = [32mcol_double()[39m,
  `2000` = [32mcol_double()[39m,
  `2001` = [32mcol_double()[39m,
  `2002` = [32mcol_double()[39m,
  `2003` = [32mcol_double()[39m,
  `2004` = [32mcol_double()[39m,
  `2005` = [32mcol_double()[39m,
  `2006` = [32mcol_double()[39m,
  `2007` = [32mcol_double()[39m,
  `2008` = [32mcol_double()[39m,
  `2009` = [32mcol_double()[39m,
  `2010` = [32mcol_double()[39m
  # ... with 9 more columns
)
[36mi[39m Use [38;5;251m[48;5;235m[38;5;251m[48;5;235m`spec()`[48;5;235m[38;5;251m[49m[39m for the full column specifications.

"
"0","country_groups<-read_csv(""countriesGroups.csv"")"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  `Country Code` = [31mcol_character()[39m,
  Region = [31mcol_character()[39m,
  IncomeGroup = [31mcol_character()[39m,
  SpecialNotes = [31mcol_character()[39m,
  TableName = [31mcol_character()[39m
)

"
"0","covid_ts<-read_csv(""owid-covid-data.csv"")  # Time series about COVID - ""https://covid.ourworldindata.org/data/owid-covid-data.csv"""
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  .default = col_double(),
  iso_code = [31mcol_character()[39m,
  continent = [31mcol_character()[39m,
  location = [31mcol_character()[39m,
  date = [34mcol_date(format = """")[39m,
  icu_patients = [33mcol_logical()[39m,
  icu_patients_per_million = [33mcol_logical()[39m,
  hosp_patients = [33mcol_logical()[39m,
  hosp_patients_per_million = [33mcol_logical()[39m,
  weekly_icu_admissions = [33mcol_logical()[39m,
  weekly_icu_admissions_per_million = [33mcol_logical()[39m,
  weekly_hosp_admissions = [33mcol_logical()[39m,
  weekly_hosp_admissions_per_million = [33mcol_logical()[39m,
  tests_units = [31mcol_character()[39m
)
[36mi[39m Use [38;5;251m[48;5;235m[38;5;251m[48;5;235m`spec()`[48;5;235m[38;5;251m[49m[39m for the full column specifications.

"
"2","42008 parsing failures.
 row                       col           expected actual                  file
5017 icu_patients              1/0/T/F/TRUE/FALSE 215    'owid-covid-data.csv'
5017 icu_patients_per_million  1/0/T/F/TRUE/FALSE 23.872 'owid-covid-data.csv'
5017 hosp_patients             1/0/T/F/TRUE/FALSE 856    'owid-covid-data.csv'
5017 hosp_patients_per_million 1/0/T/F/TRUE/FALSE 95.044 'owid-covid-data.csv'
5018 icu_patients              1/0/T/F/TRUE/FALSE 219    'owid-covid-data.csv'
.... ......................... .................. ...... .....................
See problems(...) for more details.
"
"0","country_groups<-read_csv(""countriesGroups.csv"")"
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  `Country Code` = [31mcol_character()[39m,
  Region = [31mcol_character()[39m,
  IncomeGroup = [31mcol_character()[39m,
  SpecialNotes = [31mcol_character()[39m,
  TableName = [31mcol_character()[39m
)

"
"0","covid_ts<-read_csv(""owid-covid-data.csv"")  # Time series about COVID - ""https://covid.ourworldindata.org/data/owid-covid-data.csv"""
"2","
[36m--[39m [1m[1mColumn specification[1m[22m [36m------------------------------------------------[39m
cols(
  .default = col_double(),
  iso_code = [31mcol_character()[39m,
  continent = [31mcol_character()[39m,
  location = [31mcol_character()[39m,
  date = [34mcol_date(format = """")[39m,
  icu_patients = [33mcol_logical()[39m,
  icu_patients_per_million = [33mcol_logical()[39m,
  hosp_patients = [33mcol_logical()[39m,
  hosp_patients_per_million = [33mcol_logical()[39m,
  weekly_icu_admissions = [33mcol_logical()[39m,
  weekly_icu_admissions_per_million = [33mcol_logical()[39m,
  weekly_hosp_admissions = [33mcol_logical()[39m,
  weekly_hosp_admissions_per_million = [33mcol_logical()[39m,
  tests_units = [31mcol_character()[39m
)
[36mi[39m Use [38;5;251m[48;5;235m[38;5;251m[48;5;235m`spec()`[48;5;235m[38;5;251m[49m[39m for the full column specifications.

"
"2","42008 parsing failures.
 row                       col           expected actual                  file
5017 icu_patients              1/0/T/F/TRUE/FALSE 215    'owid-covid-data.csv'
5017 icu_patients_per_million  1/0/T/F/TRUE/FALSE 23.872 'owid-covid-data.csv'
5017 hosp_patients             1/0/T/F/TRUE/FALSE 856    'owid-covid-data.csv'
5017 hosp_patients_per_million 1/0/T/F/TRUE/FALSE 95.044 'owid-covid-data.csv'
5018 icu_patients              1/0/T/F/TRUE/FALSE 219    'owid-covid-data.csv'
.... ......................... .................. ...... .....................
See problems(...) for more details.
"
"0","################################################"
"0","###########    Cleanning Data       #############"
"0","#################################################"
"0","covid<-covid_who%>% # selecting needed variables and changing their names"
"0","  select(Name,`Cases - cumulative total`, `Deaths - cumulative total`)%>%"
"0","  transmute(`Country Name`=Name,Cases=`Cases - cumulative total`, Deaths=`Deaths - cumulative total`)"
"0","pib_capita19<-pib_capita%>%  # PIB per capita in 2019"
"0","  mutate(PIBcapita=`2019`)%>%"
"0","  select(`Country Name`,`Country Code`,PIBcapita)"
"0","population19<-population%>%  # Population in 2019"
"0","  mutate(Population=`2019`)%>%"
"0","  select(`Country Name`,`Country Code`,Population)"
"0","population19<-population%>%  # Population in 2019"
"0","  mutate(Population=`2019`)%>%"
"0","  select(`Country Name`,`Country Code`,Population)"
"0","tourists19<-tourists%>%  # Tourists arrival in 2019"
"0","  mutate(Tourists=`2019`)%>%"
"0","  select(`Country Name`,`Country Code`,Tourists)"
"0","##############3"
"0","dfts<-covid_ts%>% # Human Development Index (HDI)"
"0","  group_by(location)%>%"
"0","  summarise(HDI=tail(human_development_index,1),New_cases=tail(new_cases,1),"
"0","            New_deaths=tail(new_deaths,1))%>%"
"0","  rename(""Country Name""=""location"")"
"0","tourists19<-tourists%>%  # Tourists arrival in 2019"
"0","  mutate(Tourists=`2019`)%>%"
"0","  select(`Country Name`,`Country Code`,Tourists)"
"0","##############3"
"0","dfts<-covid_ts%>% # Human Development Index (HDI)"
"0","  group_by(location)%>%"
"0","  summarise(HDI=tail(human_development_index,1),New_cases=tail(new_cases,1),"
"0","            New_deaths=tail(new_deaths,1))%>%"
"0","  rename(""Country Name""=""location"")"
"0","####################################################"
"0","############## Merging tibbles #####################"
"0","df<-inner_join(inner_join(inner_join(inner_join(inner_join(covid,pib_capita19,by=""Country Name""),"
"0","                      population19,by=""Country Name""),"
"0","           tourists19,by=""Country Name""),"
"0","           country_groups,by=""Country Code""),"
"0","          dfts,by=""Country Name"")"
"0","##############3"
"0","dfts<-covid_ts%>% # Human Development Index (HDI)"
"0","  group_by(location)%>%"
"0","  summarise(HDI=tail(human_development_index,1),New_cases=tail(new_cases,1),"
"0","            New_deaths=tail(new_deaths,1))%>%"
"0","  rename(""Country Name""=""location"")"
"0","####################################################"
"0","############## Merging tibbles #####################"
"0","df<-inner_join(inner_join(inner_join(inner_join(inner_join(covid,pib_capita19,by=""Country Name""),"
"0","                      population19,by=""Country Name""),"
"0","           tourists19,by=""Country Name""),"
"0","           country_groups,by=""Country Code""),"
"0","          dfts,by=""Country Name"")"
"0","######### Eliminating duplicated columns of country codes ##########"
"0","df<-df%>%"
"0","  select(`Country Code`,`Country Name`,Region,IncomeGroup,Cases,Deaths,Population,PIBcapita,Tourists,HDI,New_cases,New_deaths)"
"0","########################################################"
"0","######## Creating new variables #######################"
"0","df<-df%>%"
"0","  mutate(Cases_rate=Cases/Population,Tourists_rate=Tourists/Population)%>%"
"0","  rename(`PIB per capita (current USD)`=PIBcapita,`Rate of tourists`=Tourists)"
